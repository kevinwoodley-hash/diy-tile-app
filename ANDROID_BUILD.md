# Tiler Quote App — Android Build Guide

This project uses **Vite + React + Capacitor** to package the Tiler Quote App as a real Android APK.

---

## Prerequisites

Install these on your machine before starting:

| Tool | Download |
|------|----------|
| **Node.js** (v18+) | https://nodejs.org |
| **Android Studio** | https://developer.android.com/studio |
| **Java JDK 17** | Bundled with Android Studio |

After installing Android Studio:
1. Open Android Studio → SDK Manager
2. Install **Android SDK** (API 34 recommended)
3. Install **Android SDK Build-Tools**
4. Set `ANDROID_HOME` environment variable to your SDK path

---

## Project Setup

```bash
# 1. Install dependencies
npm install

# 2. Build the web app
npm run build

# 3. Add Android platform (first time only)
npx cap add android

# 4. Sync web build into Android project
npx cap sync android
```

---

## Running on a Device / Emulator

### Option A — Open in Android Studio (recommended)
```bash
npm run android
```
This builds, syncs, and opens Android Studio. From there press ▶ Run.

### Option B — Direct to connected device
```bash
# Make sure USB debugging is enabled on your phone
npm run android:run
```

---

## Building a Release APK

### Debug APK (for testing/sideloading)
```bash
npm run build
npx cap sync android
cd android
./gradlew assembleDebug
```
APK location: `android/app/build/outputs/apk/debug/app-debug.apk`

### Release APK (for distribution)
```bash
cd android
./gradlew assembleRelease
```
You'll need to sign the APK with a keystore. See: https://developer.android.com/studio/publish/app-signing

---

## Sideloading to Android Phone (no Play Store)

1. Build the debug APK (see above)
2. Copy `app-debug.apk` to your phone (USB, email, or Google Drive)
3. On your phone: Settings → Security → Enable "Install unknown apps"
4. Open the APK file on your phone and tap Install

---

## App Configuration

Edit `capacitor.config.ts` to change:
- `appId` — reverse domain format e.g. `com.yourname.tilerquote`
- `appName` — display name on the phone

---

## Project Structure

```
tiler-app/
├── src/
│   ├── App.tsx              ← Main app (your TilerQuoteApp)
│   ├── main.tsx             ← React entry point
│   ├── index.css            ← Tailwind + Android safe area styles
│   └── components/ui/
│       ├── button.tsx
│       ├── card.tsx
│       └── input.tsx
├── public/
│   └── manifest.json        ← PWA manifest
├── android/                 ← Generated by Capacitor (after npx cap add android)
├── capacitor.config.ts      ← Capacitor settings
├── vite.config.ts           ← Build config
├── package.json
└── tailwind.config.js
```

---

## Quick Path: Install as PWA on Android (no build needed)

If you just want the app on your Android phone **right now** without building an APK:

1. Host the app on Vercel/Netlify (or use your existing deployment)
2. Open the URL in **Chrome** on your Android phone
3. Tap the **three-dot menu** → "Add to Home screen"
4. The app installs like a native app with its own icon, runs fullscreen, works offline

This is the quickest option and gives 95% of the native experience.

---

## Troubleshooting

**`ANDROID_HOME` not found**
Add to your shell profile (`~/.bashrc` or `~/.zshrc`):
```bash
export ANDROID_HOME=$HOME/Android/Sdk
export PATH=$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools
```

**Gradle build fails**
```bash
cd android
./gradlew clean
cd ..
npx cap sync android
```

**App not updating after code changes**
```bash
npm run build && npx cap sync android
```
Then rebuild in Android Studio.
